<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Manuel Montenegro Montes">
  <title>Protocolos en Elixir</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="dist/reset.css">
  <link rel="stylesheet" href="dist/reveal.css">
  <link rel="stylesheet" href="css/nnfx-light.min.css">
  <style>
    .reveal .sourceCode {  /* see #7635 */
      overflow: visible;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {  background-color: #f8f8f8; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ef2929; } /* Alert */
    code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #204a87; } /* Attribute */
    code span.bn { color: #0000cf; } /* BaseN */
    code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4e9a06; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #8f5902; font-style: italic; } /* Comment */
    code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
    code span.dt { color: #204a87; } /* DataType */
    code span.dv { color: #0000cf; } /* DecVal */
    code span.er { color: #a40000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #0000cf; } /* Float */
    code span.fu { color: #204a87; font-weight: bold; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
    code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
    code span.ot { color: #8f5902; } /* Other */
    code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
    code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
    code span.ss { color: #4e9a06; } /* SpecialString */
    code span.st { color: #4e9a06; } /* String */
    code span.va { color: #000000; } /* Variable */
    code span.vs { color: #4e9a06; } /* VerbatimString */
    code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="css/pdap.css" id="theme">
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="img/RedBackground.jpg">
  <h1 class="title">Protocolos en Elixir</h1>
<div id="author-container">
<div class="author">
Manuel Montenegro Montes
<br>
<span id="email"><a href="montenegro@fdi.ucm.es">montenegro@fdi.ucm.es</a></span>
</div>
<div class="subject">
<strong>Programación Declarativa Aplicada</strong>
<br>Máster en Ingeniería Informática<br>Facultad de
Informática<br>Universidad Complutense de Madrid
</div>
</div>
</section>

<section id="section" class="slide level2 outline"
data-background-image="img/RedBackground.jpg">
<h2 class="outline" data-background-image="img/RedBackground.jpg"></h2>
<ol type="1">
<li>Introducción</li>
<li>El protocolo <span
style="font-family: monospace;text-transform: none;">Enumerable</span></li>
<li>El protocolo <span
style="font-family: monospace;text-transform: none;">Collectable</span></li>
<li>Los protocolos <span
style="font-family: monospace;text-transform: none;">String.Chars</span>
y <span
style="font-family: monospace;text-transform: none;">Inspect</span></li>
<li>Definición de nuevos protocolos</li>
</ol>
</section>
<section>
<section id="introducción" class="title-slide slide level1">
<h1>Introducción</h1>

</section>
<section id="para-qué-sirven-los-protocolos" class="slide level2">
<h2>¿Para qué sirven los protocolos?</h2>
<div>
<ul>
<li class="fragment"><p>Los protocolos nos permiten definir funciones
que se comportan de manera distinta según el <strong>tipo</strong> del
argumento.</p></li>
<li class="fragment"><p>En principio, se podrían definir tales funciones
utilizando guardas:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f<span class="fu">(</span>x<span class="fu">)</span> <span class="kw">when</span> is_integer<span class="fu">(</span>x<span class="fu">)</span>, <span class="va">do:</span> <span class="op">...</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f<span class="fu">(</span>x<span class="fu">)</span> <span class="kw">when</span> is_float<span class="fu">(</span>x<span class="fu">)</span>, <span class="va">do:</span> <span class="op">...</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f<span class="fu">(</span>x<span class="fu">)</span> <span class="kw">when</span> is_tuple<span class="fu">(</span>x<span class="fu">)</span>, <span class="va">do:</span> <span class="op">...</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f<span class="fu">(</span>x<span class="fu">)</span> <span class="kw">when</span> is_binary<span class="fu">(</span>x<span class="fu">)</span>, <span class="va">do:</span> <span class="op">...</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f<span class="fu">(</span>x<span class="fu">)</span> <span class="kw">when</span> is_map<span class="fu">(</span>x<span class="fu">)</span>, <span class="va">do:</span> <span class="op">...</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="op">...</span></span></code></pre></div>
</li>
</ul>
</div>
</section>
<section class="slide level2">

<ul>
<li><p>Sin embargo, todas las cláusulas de la misma función han de estar
en el mismo módulo.</p></li>
<li><p>En el ejemplo anterior, si quisiéramos que <code>f</code>
aceptase un nuevo tipo, tendríamos que añadir una nueva cláusula en el
módulo en el que está definida <code>f</code>.</p></li>
</ul>
<div class="fragment">
<div class="info_box">
<p>¿Y si queremos que <span style="font-family:monospace">f</span>
acepte un nuevo tipo, pero no podemos modificar el módulo en el que
<span style="font-family:monospace">f</span> está definida?</p>
</div>
</div>
</section>
<section class="slide level2">

<div>
<ul>
<li class="fragment"><p>Un <strong>protocolo</strong> define la cabecera
de una o varias funciones, sin implementación.</p></li>
<li class="fragment"><p>Es posible definir
<strong>implementaciones</strong> de un protocolo, cada una específica
de un tipo.</p></li>
</ul>
</div>
<div class="fragment">
<p><svg
   width="269.36261mm"
   height="73.441978mm"
   viewBox="0 0 269.36261 73.441978"
   version="1.1"
   id="svg1"
   inkscape:version="1.3.2 (091e20ef0f, 2023-11-25)"
   sodipodi:docname="protocolos.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:document-units="mm"
     inkscape:zoom="0.5901901"
     inkscape:cx="580.3215"
     inkscape:cy="137.24392"
     inkscape:window-width="1617"
     inkscape:window-height="1216"
     inkscape:window-x="26"
     inkscape:window-y="23"
     inkscape:window-maximized="0"
     inkscape:current-layer="layer1" />
  <defs
     id="defs1" />
  <g
     inkscape:label="Capa 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-10.859373,-42.883186)">
    <g
       id="g6"
       transform="translate(4.6360856,-7.2290245)">
      <rect
         style="fill:#daeeff;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.145819;stroke-opacity:1"
         id="rect1-5"
         width="54.034985"
         height="9.9161844"
         x="70.488853"
         y="62.403542" />
      <rect
         style="fill:#aad8ff;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.162291;stroke-opacity:1"
         id="rect1"
         width="54.018513"
         height="12.286788"
         x="70.442245"
         y="50.193356" />
      <text
         xml:space="preserve"
         style="font-weight:bold;font-size:5.64444px;font-family:Inconsolata;-inkscape-font-specification:'Inconsolata Bold';text-align:center;text-anchor:middle;fill:#aaffea;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.266999;stroke-opacity:1"
         x="97.948708"
         y="57.717117"
         id="text4"><tspan
           sodipodi:role="line"
           id="tspan4"
           style="font-size:5.64444px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.267"
           x="97.948708"
           y="57.717117">String.Chars</tspan></text>
      <text
         xml:space="preserve"
         style="font-weight:bold;font-size:4.23333px;font-family:Inconsolata;-inkscape-font-specification:'Inconsolata Bold';text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.266999;stroke-opacity:1"
         x="86.388275"
         y="68.10923"
         id="text5"><tspan
           sodipodi:role="line"
           id="tspan5"
           style="font-size:4.23333px;fill:#000000;fill-opacity:1;stroke-width:0.267"
           x="86.388275"
           y="68.10923">to_string(v)</tspan></text>
      <text
         xml:space="preserve"
         style="font-weight:bold;font-size:8.46667px;font-family:Inconsolata;-inkscape-font-specification:'Inconsolata Bold';text-align:center;text-anchor:middle;fill:#005196;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.266999;stroke-opacity:1"
         x="170.0703"
         y="60.978642"
         id="text9"><tspan
           sodipodi:role="line"
           id="tspan9"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:8.46667px;font-family:Raleway;-inkscape-font-specification:Raleway;fill:#005196;fill-opacity:1;stroke:none;stroke-width:0.267"
           x="170.0703"
           y="60.978642">Protocolo</tspan></text>
    </g>
    <g
       id="g9"
       class="fragment">
      <path
         style="fill:none;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.191717;stroke-opacity:1"
         d="m 97.345315,72.466641 -3.481148,6.029526 h 6.924753 z"
         id="path7"
         transform="translate(4.6360857,-7.2290243)" />
      <path
         style="fill:none;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.266999;stroke-opacity:1"
         d="m 97.155958,78.706343 0.05758,22.709267"
         id="path8"
         sodipodi:nodetypes="cc"
         transform="translate(4.6360857,-7.2290243)" />
      <path
         style="fill:none;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.266999;stroke-opacity:1"
         d="M 29.753167,101.16666 V 85.075388 L 160.74735,84.734864 v 16.504916"
         id="path9"
         transform="translate(4.6360857,-7.2290243)" />
      <text
         xml:space="preserve"
         style="font-weight:bold;font-size:8.46667px;font-family:Inconsolata;-inkscape-font-specification:'Inconsolata Bold';text-align:center;text-anchor:middle;fill:#009679;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.266999;stroke-opacity:1"
         x="239.37395"
         y="113.25202"
         id="text9-9"
         transform="translate(4.6360857,-7.2290243)"><tspan
           sodipodi:role="line"
           id="tspan9-2"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:8.46667px;font-family:Raleway;-inkscape-font-specification:Raleway;fill:#009679;fill-opacity:1;stroke:none;stroke-width:0.267"
           x="239.37395"
           y="113.25202">Implementaciones</tspan></text>
      <g
         id="g6-2"
         transform="translate(-59.501727,43.932528)">
        <rect
           style="fill:#dafff6;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.145819;stroke-opacity:1"
           id="rect1-5-9"
           width="54.034985"
           height="9.9161844"
           x="70.488853"
           y="62.403542" />
        <rect
           style="fill:#aaffea;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.162291;stroke-opacity:1"
           id="rect1-1"
           width="54.018513"
           height="12.286788"
           x="70.442245"
           y="50.193356" />
        <text
           xml:space="preserve"
           style="font-weight:bold;font-size:5.64444px;font-family:Inconsolata;-inkscape-font-specification:'Inconsolata Bold';text-align:center;text-anchor:middle;fill:#aaffea;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.266999;stroke-opacity:1"
           x="97.948708"
           y="57.717117"
           id="text4-2"><tspan
             sodipodi:role="line"
             id="tspan4-7"
             style="font-size:5.64444px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.267"
             x="97.948708"
             y="57.717117">Integer</tspan></text>
        <text
           xml:space="preserve"
           style="font-weight:bold;font-size:4.23333px;font-family:Inconsolata;-inkscape-font-specification:'Inconsolata Bold';text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.266999;stroke-opacity:1"
           x="89.563278"
           y="68.10923"
           id="text5-0"><tspan
             sodipodi:role="line"
             id="tspan5-9"
             style="font-size:4.23333px;fill:#000000;fill-opacity:1;stroke-width:0.267"
             x="89.563278"
             y="68.10923">to_string(int)</tspan></text>
      </g>
      <g
         id="g6-2-6"
         transform="translate(5.3357542,43.932528)">
        <rect
           style="fill:#dafff6;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.145819;stroke-opacity:1"
           id="rect1-5-9-2"
           width="54.034985"
           height="9.9161844"
           x="70.488853"
           y="62.403542" />
        <rect
           style="fill:#aaffea;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.162291;stroke-opacity:1"
           id="rect1-1-6"
           width="54.018513"
           height="12.286788"
           x="70.442245"
           y="50.193356" />
        <text
           xml:space="preserve"
           style="font-weight:bold;font-size:5.64444px;font-family:Inconsolata;-inkscape-font-specification:'Inconsolata Bold';text-align:center;text-anchor:middle;fill:#aaffea;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.266999;stroke-opacity:1"
           x="97.948708"
           y="57.717117"
           id="text4-2-1"><tspan
             sodipodi:role="line"
             id="tspan4-7-8"
             style="font-size:5.64444px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.267"
             x="97.948708"
             y="57.717117">Float</tspan></text>
        <text
           xml:space="preserve"
           style="font-weight:bold;font-size:4.23333px;font-family:Inconsolata;-inkscape-font-specification:'Inconsolata Bold';text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.266999;stroke-opacity:1"
           x="92.209114"
           y="68.10923"
           id="text5-0-7"><tspan
             sodipodi:role="line"
             id="tspan5-9-9"
             style="font-size:4.23333px;fill:#000000;fill-opacity:1;stroke-width:0.267"
             x="92.209114"
             y="68.10923">to_string(float)</tspan></text>
      </g>
      <g
         id="g7"
         transform="translate(-5.7802478,-53.857347)">
        <rect
           style="fill:#dafff6;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.145819;stroke-opacity:1"
           id="rect1-5-9-2-3"
           width="54.034985"
           height="9.9161844"
           x="146.44234"
           y="160.19341" />
        <rect
           style="fill:#aaffea;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.162291;stroke-opacity:1"
           id="rect1-1-6-7"
           width="54.018513"
           height="12.286788"
           x="146.39572"
           y="147.98323" />
        <text
           xml:space="preserve"
           style="font-weight:bold;font-size:5.64444px;font-family:Inconsolata;-inkscape-font-specification:'Inconsolata Bold';text-align:center;text-anchor:middle;fill:#aaffea;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.266999;stroke-opacity:1"
           x="173.90219"
           y="155.50699"
           id="text4-2-1-5"><tspan
             sodipodi:role="line"
             id="tspan4-7-8-9"
             style="font-size:5.64444px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.267"
             x="173.90219"
             y="155.50699">Atom</tspan></text>
        <text
           xml:space="preserve"
           style="font-weight:bold;font-size:4.23333px;font-family:Inconsolata;-inkscape-font-specification:'Inconsolata Bold';text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.266999;stroke-opacity:1"
           x="168.1626"
           y="165.89909"
           id="text5-0-7-2"><tspan
             sodipodi:role="line"
             id="tspan5-9-9-2"
             style="font-size:4.23333px;fill:#000000;fill-opacity:1;stroke-width:0.267"
             x="168.1626"
             y="165.89909">to_string(atom)</tspan></text>
      </g>
    </g>
  </g>
</svg>
</p>
<p><span class="rojo fragment"><em>(similar a las <strong>clases
abstractas</strong> o <strong>interfaces</strong> de
POO)</em></span></p>
</div>
</section>
<section class="slide level2">

<ul>
<li>Cuando se hace una llamada a una función definida en un protocolo,
se llama a la versión específica del tipo del argumento que se haya
pasado a la función.</li>
</ul>
<div class="sourceCode" id="cb2"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> to_string<span class="fu">(</span><span class="dv">23</span><span class="fu">)</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;23&quot;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> to_string<span class="fu">(</span><span class="va">:ok</span><span class="fu">)</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;ok&quot;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> to_string<span class="fu">(</span><span class="fl">1.0e-4</span><span class="fu">)</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;0.0001&quot;</span></span></code></pre></div>

</section>
<section id="añadir-una-nueva-implementación" class="slide level2">
<h2>Añadir una nueva implementación</h2>
<ul>
<li>Podemos añadir un implementación específica para el tipo
<code>String.Chars</code> mediante <code>defimpl</code>.</li>
</ul>
<div class="sourceCode" id="cb3"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">defmodule</span> <span class="cn">Persona</span> <span class="kw">do</span>                 <span class="arrow_box_left fragment"> Definimos un nuevo struct Persona </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">defstruct</span> <span class="ot">[</span><span class="va">:nombre</span>, <span class="va">:edad</span><span class="ot">]</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="kw">defimpl</span> <span class="cn">String</span><span class="op">.</span><span class="cn">Chars</span>, <span class="kw">for</span>: <span class="cn">Persona</span> <span class="kw">do</span>    <span class="arrow_box_left fragment"> Implementación de to_string para ese struct </span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> to_string<span class="fu">(</span>%<span class="cn">Persona</span><span class="fu">{}</span> <span class="op">=</span> p<span class="fu">)</span> <span class="kw">do</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;</span><span class="ot">#{</span>p<span class="op">.</span>nombre<span class="ot">}</span><span class="st"> (</span><span class="ot">#{</span>p<span class="op">.</span>edad<span class="ot">}</span><span class="st">)&quot;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>

<div class="fragment">
<div class="sourceCode" id="cb4"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> to_string<span class="fu">(</span>%<span class="cn">Persona</span><span class="fu">{</span><span class="va">nombre:</span> <span class="st">&quot;Gerardo&quot;</span>, <span class="va">edad:</span> <span class="dv">23</span><span class="fu">})</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Gerardo (23)&quot;</span></span></code></pre></div>

</div>
</section></section>
<section>
<section id="el-protocolo-enumerable" class="title-slide slide level1">
<h1>El protocolo <code>Enumerable</code></h1>

</section>
<section id="protocolo-enumerable" class="slide level2">
<h2>Protocolo <code>Enumerable</code></h2>
<ul>
<li><p>Implementado por aquellos tipos que denotan
<strong>colecciones</strong> de elementos que pueden ser
<strong>recorridas</strong> o <strong>enumeradas</strong>.</p></li>
<li><p>Implementan este protocolo, entre otros:</p>
<ul>
<li><p>Las listas</p></li>
<li><p>Los diccionarios (pero no los <em>structs</em>)</p></li>
<li><p>Los conjuntos (<code>MapSet</code>)</p></li>
</ul></li>
<li><p>Todas las funciones del módulo <code>Enum</code> de Elixir pueden
ser aplicadas a cualquier tipo que implemente el protocolo
<code>Enumerable</code>.</p></li>
</ul>
</section>
<section id="ejemplos" class="slide level2">
<h2>Ejemplos</h2>
<div class="sourceCode" id="cb5"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cn">Enum</span><span class="op">.</span>count<span class="fu">(</span><span class="ot">[</span><span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">10</span>, <span class="dv">3</span><span class="ot">]</span><span class="fu">)</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cn">Enum</span><span class="op">.</span>count<span class="fu">(</span>%<span class="fu">{</span><span class="va">a:</span> <span class="dv">3</span>, <span class="va">b:</span> <span class="dv">4</span><span class="fu">})</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cn">Enum</span><span class="op">.</span>map<span class="fu">(</span>%<span class="fu">{</span><span class="dv">4</span> <span class="op">=&gt;</span> <span class="dv">3</span>, <span class="dv">1</span> <span class="op">=&gt;</span> <span class="dv">2</span><span class="fu">}</span>, <span class="kw">fn</span> <span class="fu">{</span>k, v<span class="fu">}</span> <span class="op">-&gt;</span> k <span class="op">+</span> v <span class="kw">end</span><span class="fu">)</span> </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="dv">3</span>, <span class="dv">7</span><span class="ot">]</span>      <span class="arrow_box_left fragment"> Ojo! El orden de recorrido de un diccionario no está definido </span></span></code></pre></div>

</section>
<section id="funciones-del-protocolo-enumerable"
class="slide level2 ext" data-background-image="img/Extension.jpg">
<h2 class="ext" data-background-image="img/Extension.jpg">Funciones del
protocolo <code>Enumerable</code></h2>
<ul>
<li><p>Obligatorias:</p>
<ul>
<li><code>reduce(enumerable, acc, fun)</code></li>
</ul></li>
<li><p>Opcionales:</p>
<ul>
<li><code>slice(enumerable)</code></li>
<li><code>count(enumerable)</code></li>
<li><code>member?(enumerable)</code></li>
</ul></li>
</ul>
</section>
<section id="rangos" class="slide level2">
<h2>Rangos</h2>
<ul>
<li><p>Los rangos son un tipo de Elixir que implementa el protocolo
<code>Enum</code>.</p></li>
<li><p>Representan colecciones de números contenidos en un
intervalo.</p></li>
<li><p>Sintaxis:</p>
<ul>
<li><p>Enteros comprendidos entre <code>ini</code> y <code>fin</code>
(incluidos):</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="meta">ini</span><span class="op">..</span><span class="meta">fin</span></span></code></pre></div>
</li>
<li><p>Enteros comprendidos desde <code>ini</code>, sumando
sucesivamente la cantidad <code>salto</code> hasta llegar a un número
mayor que <code>fin</code>:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="meta">ini</span><span class="op">..</span><span class="meta">fin</span><span class="op">//</span><span class="meta">salto</span></span></code></pre></div>
</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<h3 id="ejemplos-1">Ejemplos</h3>
<div class="sourceCode" id="cb8"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> r <span class="op">=</span> <span class="dv">1</span><span class="op">..</span><span class="dv">5</span>   <span class="arrow_box_left"> Representa la secuencia 1, 2, 3, 4, 5 </span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> s <span class="op">=</span> <span class="dv">1</span><span class="op">..</span><span class="dv">11</span><span class="op">//</span><span class="dv">3</span>  <span class="arrow_box_left"> Representa la secuencia 1, 4, 7, 10 </span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fragment">> 4 in r </span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fragment">true</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="fragment">> 2 in s</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="fragment">false</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="fragment">> 4 in s</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="fragment">true</span></span></code></pre></div>

</section>
<section class="slide level2">

<h3 id="ejemplos-2">Ejemplos</h3>
<div class="sourceCode" id="cb9"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cn">Enum</span><span class="op">.</span>map<span class="fu">(</span><span class="dv">0</span><span class="op">..</span><span class="dv">10</span>, <span class="op">&amp;</span><span class="fu">(</span><span class="dv">2</span> <span class="op">**</span> <span class="op">&amp;</span><span class="dv">1</span><span class="fu">))</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fragment">[1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024] </span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cn">Enum</span><span class="op">.</span>map<span class="fu">(</span><span class="dv">0</span><span class="op">..-</span><span class="dv">5</span><span class="op">//-</span><span class="dv">1</span>, <span class="op">&amp;</span><span class="fu">(</span><span class="dv">2</span> <span class="op">**</span> <span class="op">&amp;</span><span class="dv">1</span><span class="fu">))</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fragment">[1, 0.5, 0.25, 0.125, 0.0625, 0.03125] </span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cn">Enum</span><span class="op">.</span>zip<span class="fu">(</span><span class="dv">1</span><span class="op">..</span><span class="dv">5</span>, <span class="ot">[</span><span class="va">:a</span>, <span class="va">:b</span>, <span class="va">:c</span><span class="ot">]</span><span class="fu">)</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="fragment">[{1, :a}, {2, :b}, {3, :c}] </span></span></code></pre></div>

</section></section>
<section>
<section id="el-protocolo-collectable" class="title-slide slide level1">
<h1>El protocolo <code>Collectable</code></h1>

</section>
<section id="protocolo-collectable" class="slide level2">
<h2>Protocolo <code>Collectable</code></h2>
<ul>
<li>Las funciones transformadoras del módulo <code>Enum</code> siempre
devuelven una lista, independientemente del enumerable de entrada.</li>
</ul>
<div class="sourceCode" id="cb10"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cn">Enum</span><span class="op">.</span>map<span class="fu">(</span><span class="ot">[</span><span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">8</span><span class="ot">]</span>, <span class="kw">fn</span> n <span class="op">-&gt;</span> n <span class="op">*</span> <span class="dv">2</span> <span class="kw">end</span><span class="fu">)</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="dv">2</span>, <span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">16</span><span class="ot">]</span>                  <span class="arrow_box_left fragment"> Devuelve lista </span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cn">Enum</span><span class="op">.</span>map<span class="fu">(</span>%<span class="fu">{</span><span class="dv">3</span> <span class="op">=&gt;</span> <span class="dv">1</span>, <span class="dv">6</span> <span class="op">=&gt;</span> <span class="dv">7</span><span class="fu">}</span>, <span class="kw">fn</span> <span class="fu">{</span>_, v<span class="fu">}</span> <span class="op">-&gt;</span> v <span class="op">+</span> <span class="dv">4</span> <span class="kw">end</span><span class="fu">)</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="dv">5</span>, <span class="dv">11</span><span class="ot">]</span>                         <span class="arrow_box_left fragment"> Devuelve lista </span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cn">Enum</span><span class="op">.</span>map<span class="fu">(</span><span class="dv">1</span><span class="op">..</span><span class="dv">6</span>, <span class="kw">fn</span> k <span class="op">-&gt;</span> div<span class="fu">(</span>k, <span class="dv">2</span><span class="fu">)</span> <span class="kw">end</span><span class="fu">)</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span><span class="ot">]</span>              <span class="arrow_box_left fragment"> Devuelve lista </span></span></code></pre></div>

</section>
<section id="protocolo-collectable-1" class="slide level2">
<h2>Protocolo <code>Collectable</code></h2>
<div>
<ul>
<li class="fragment"><p>Si un tipo de datos implementa el protocolo
<code>Collectable</code>, soporta la posibilidad de construir una
instancia de ese tipo a partir de una secuencia de elementos.</p></li>
<li class="fragment"><p><code>Enum.into(e, c)</code> devuelve el
resultado de insertar los elementos del enumerable <code>e</code> en el
<em>collectable</em> <code>c</code>.</p>
<ul>
<li class="fragment">Se supone que el collectable <code>c</code> pasado
como parámetro está vacío.</li>
</ul></li>
</ul>
</div>
</section>
<section id="ejemplos-3" class="slide level2">
<h2>Ejemplos</h2>
<div class="sourceCode" id="cb11"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cn">Enum</span><span class="op">.</span>into<span class="fu">(</span><span class="dv">1</span><span class="op">..</span><span class="dv">5</span>, <span class="ot">[]</span><span class="fu">)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span><span class="ot">]</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cn">Enum</span><span class="op">.</span>zip<span class="fu">(</span><span class="dv">1</span><span class="op">..</span><span class="dv">5</span>, <span class="dv">6</span><span class="op">..</span><span class="dv">10</span><span class="fu">)</span> <span class="op">|&gt;</span> <span class="cn">Enum</span><span class="op">.</span>into<span class="fu">(</span>%<span class="fu">{})</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>%<span class="fu">{</span><span class="dv">1</span> <span class="op">=&gt;</span> <span class="dv">6</span>, <span class="dv">2</span> <span class="op">=&gt;</span> <span class="dv">7</span>, <span class="dv">3</span> <span class="op">=&gt;</span> <span class="dv">8</span>, <span class="dv">4</span> <span class="op">=&gt;</span> <span class="dv">9</span>, <span class="dv">5</span> <span class="op">=&gt;</span> <span class="dv">10</span><span class="fu">}</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="dv">1</span><span class="op">..</span><span class="dv">10</span><span class="op">//</span><span class="dv">2</span> <span class="op">|&gt;</span> <span class="cn">Enum</span><span class="op">.</span>into<span class="fu">(</span><span class="cn">MapSet</span><span class="op">.</span>new<span class="fu">())</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="cn">MapSet</span><span class="op">.</span>new<span class="fu">(</span><span class="ot">[</span><span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span><span class="ot">]</span><span class="fu">)</span></span></code></pre></div>

</section>
<section id="funciones-del-protocolo-collectable"
class="slide level2 ext" data-background-image="img/Extension.jpg">
<h2 class="ext" data-background-image="img/Extension.jpg">Funciones del
protocolo <code>Collectable</code></h2>
<ul>
<li><p>Obligatorias:</p>
<ul>
<li><code>into(collectable)</code></li>
</ul></li>
</ul>
</section></section>
<section>
<section id="los-protocolos-string.chars-y-inspect"
class="title-slide slide level1">
<h1>Los protocolos <code>String.Chars</code> y <code>Inspect</code></h1>

</section>
<section id="el-protocolo-string.chars" class="slide level2">
<h2>El protocolo <code>String.Chars</code></h2>
<ul>
<li><p>Lo implementan aquellos tipos que pueden ser representables
mediante una cadena de texto.</p></li>
<li><p>La función <code>to_string/1</code> puede aplicarse sobre todos
los tipos que soportan este protocolo.</p></li>
</ul>
<div class="sourceCode" id="cb12"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> to_string<span class="fu">(</span><span class="va">:ok</span><span class="fu">)</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;ok&quot;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> to_string<span class="fu">(</span><span class="dv">23</span><span class="fu">)</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;23&quot;</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> to_string<span class="fu">(</span><span class="fl">24.5</span><span class="fu">)</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;24.5&quot;</span></span></code></pre></div>

</section>
<section id="el-protocolo-inspect" class="slide level2">
<h2>El protocolo <code>Inspect</code></h2>
<ul>
<li><p>Lo implementan aquellos tipos que admiten una representación
mediante una cadena de texto con formato (incl. tabulaciones, saltos de
línea).</p></li>
<li><p>Los tipos que implementan este protocolo pueden ser pasados como
parámetro a las funciones <code>inspect</code> e
<code>IO.inspect</code></p>
<ul>
<li><p><code>inspect</code> devuelve una cadena de texto con la
representación formateada.</p></li>
<li><p><code>IO.inspect</code> imprime la representación formateada y
devuelve el valor pasado como parámetro.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<div style="font-size:90%">
<pre class="text"><code>&gt; IO.inspect(Enum.into(1..1000, []))
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22,
 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42,
 43, 44, 45, 46, 47, 48, 49, 50, ...]</code></pre>

<pre class="text"><code>&gt; IO.inspect(Enum.into(1..1000, []), pretty: true, width: 20, limit: 30)
[1, 2, 3, 4, 5, 6,
 7, 8, 9, 10, 11,
 12, 13, 14, 15, 16,
 17, 18, 19, 20, 21,
 22, 23, 24, 25, 26,
 27, 28, 29, 30,
 ...]</code></pre>

</div>
</section>
<section id="la-función-io.inspect" class="slide level2">
<h2>La función <code>IO.inspect</code></h2>
<ul>
<li><p>Además de imprimir por pantalla el resultado, devuelve el valor
pasado como parámetro tal cual.</p></li>
<li><p>Esto permite llamar a <code>IO.inspect</code> dentro de una serie
de llamadas encadenadas con el operador <code>|&gt;</code>.</p></li>
</ul>
<pre class="text"><code>&gt; 1..10                                                                                                                                                    
  |&gt; Enum.map(&amp;(&amp;1 * 2)) 
  |&gt; <span class="hl">IO.inspect()</span>     <span class="arrow_box_left fragment"> Imprime [2, 4, 6, ...] </span>
  |&gt; Enum.filter(&amp;(rem(&amp;1, 3) == 0)) 
  |&gt; <span class="hl">IO.inspect()</span>     <span class="arrow_box_left fragment"> Imprime [6, 12, 18] </span>
  |&gt; Enum.sum()

[2, 4, 6, 8, 10, 12, 14, 16, 18, 20]
[6, 12, 18]
36</code></pre>

</section>
<section id="funciones-de-los-protocolos" class="slide level2 ext"
data-background-image="img/Extension.jpg">
<h2 class="ext" data-background-image="img/Extension.jpg">Funciones de
los protocolos</h2>
<ul>
<li><p>Protocolo <code>String.Chars</code>:</p>
<ul>
<li><p><code>to_string(elem)</code></p>
<p>Devuelve un <em>string</em></p></li>
</ul></li>
<li><p>Protocolo <code>Inspect</code>:</p>
<ul>
<li><p><code>inspect(elem, opts)</code></p>
<p>Devuelve un objeto del tipo <code>Inspect.Algebra</code></p></li>
</ul></li>
</ul>
</section></section>
<section>
<section id="definición-de-nuevos-protocolos"
class="title-slide slide level1">
<h1>Definición de nuevos protocolos</h1>

</section>
<section id="crear-nuevos-protocolos" class="slide level2 ext"
data-background-image="img/Extension.jpg">
<h2 class="ext" data-background-image="img/Extension.jpg">Crear nuevos
protocolos</h2>
<ul>
<li>Elixir permite al usuario definir sus propios protocolos.</li>
</ul>
<div class="sourceCode" id="cb16"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">defprotocol</span> <span class="meta"><span class="cn">Nombre</span></span> <span class="kw">do</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="meta"><span class="">fun<sub>1</sub></span></span><span class="fu">(</span><span class="meta"><span class="">arg<sub>1</sub></span></span>, <span class="op">...</span><span class="fu">)</span>   <span class="arrow_box_left"> Declaración de función (sin definición) </span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="meta"><span class="">fun<sub>2</sub></span></span><span class="fu">(</span><span class="meta"><span class="">arg<sub>1</sub></span></span>, <span class="op">...</span><span class="fu">)</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">...</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>

</section>
<section id="section-1" class="slide level2 ext"
data-background-image="img/Extension.jpg">
<h2 class="ext" data-background-image="img/Extension.jpg"></h2>
<h3 id="ejemplo">Ejemplo</h3>
<p>Definición de protocolo:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">defprotocol</span> <span class="cn">JSON</span> <span class="kw">do</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> to_json<span class="fu">(</span>elem<span class="fu">)</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>

<p>Implementación de protocolo para enteros y listas:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">defimpl</span> <span class="cn">JSON</span>, <span class="kw">for</span>: <span class="cn">Integer</span> <span class="kw">do</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> to_json<span class="fu">(</span>num<span class="fu">)</span>, <span class="va">do:</span> to_string<span class="fu">(</span>num<span class="fu">)</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="kw">defimpl</span> <span class="cn">JSON</span>, <span class="kw">for</span>: <span class="cn">List</span> <span class="kw">do</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> to_json<span class="fu">(</span>xs<span class="fu">)</span> <span class="kw">do</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;[&quot;</span> <span class="op">&lt;&gt;</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">(</span><span class="cn">Enum</span><span class="op">.</span>map<span class="fu">(</span>xs, <span class="op">&amp;</span><span class="cn">JSON</span><span class="op">.</span>to_json<span class="op">/</span><span class="dv">1</span><span class="fu">)</span> <span class="op">|&gt;</span> <span class="cn">Enum</span><span class="op">.</span>join<span class="fu">(</span><span class="st">&quot;, &quot;</span><span class="fu">))</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>      <span class="op">&lt;&gt;</span> <span class="st">&quot;]&quot;</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span> </span></code></pre></div>

</section>
<section id="section-2" class="slide level2 ext"
data-background-image="img/Extension.jpg">
<h2 class="ext" data-background-image="img/Extension.jpg"></h2>
<ul>
<li><p>Implementación del protocolo para un <code>struct</code> definido
por el usuario:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">defmodule</span> <span class="cn">Punto</span> <span class="kw">do</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">defstruct</span> <span class="ot">[</span><span class="va">:x</span>, <span class="va">:y</span><span class="ot">]</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="kw">defimpl</span> <span class="cn">JSON</span>, <span class="kw">for</span>: <span class="cn">Punto</span> <span class="kw">do</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> to_json<span class="fu">(</span>p<span class="fu">)</span> <span class="kw">do</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">~</span>s<span class="fu">({</span> <span class="st">&quot;x&quot;</span><span class="op"> : </span><span class="co">#{JSON.to_json(p.x)}, &quot;y&quot; : #{JSON.to_json(p.y)} })</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span> </span></code></pre></div>
</li>
<li><p>Ejemplo:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode elixir"><code class="sourceCode elixir"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cn">JSON</span><span class="op">.</span>to_json<span class="fu">(</span>%<span class="cn">Punto</span><span class="fu">{</span><span class="va">x:</span> <span class="dv">3</span>, <span class="va">y:</span> <span class="dv">20</span><span class="fu">})</span> <span class="op">|&gt;</span> <span class="cn">IO</span><span class="op">.</span>puts<span class="fu">()</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span> <span class="st">&quot;x&quot;</span><span class="op"> : </span><span class="dv">3</span>, <span class="st">&quot;y&quot;</span><span class="op"> : </span><span class="dv">20</span> <span class="fu">}</span></span></code></pre></div>
</li>
</ul>
</section></section>
    </div>
  </div>

  <script src="dist/reveal.js"></script>

  <!-- reveal.js plugins -->
  <script src="plugin/notes/notes.js"></script>
  <script src="plugin/search/search.js"></script>
  <script src="plugin/zoom/zoom.js"></script>
  <script src="plugin/highlight/highlight.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Prints all fragments in their visible states on the same slide 
        pdfSeparateFragments: false,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: true,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // reveal.js plugins
        plugins: [
          RevealNotes,
          RevealSearch,
          RevealZoom,
          // RevealHighlight          
        ]
      });
    </script>
    </body>
</html>
